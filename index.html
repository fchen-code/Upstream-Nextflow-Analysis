<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>RNA-seq Upstream Pipeline (Nextflow)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 2rem; line-height: 1.6; max-width: 900px; }
    h1 { margin: 0 0 .75rem; }
    .box { border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; margin: 1rem 0; }
    ul { margin: .5rem 0 0 1.2rem; }
    a { text-decoration: none; }
  </style>
</head>
<body>


  <h1>RNA-seq Upstream Pipeline (Nextflow)</h1>
  <h4>Author: Feng Chen, Date: 10/15/2025</h4>
  <style>
  .title { margin-bottom: 0.25rem; }   
  .meta  { margin-top: 0; }            
</style>

  <div class="box">
    <h2>Introduction1</h2>
    <p>
      This project implements an upstream RNA-seq workflow using Nextflow DSL2. It automates the entire analysis pipeline, including FastQC, trimming, alignment, featureCounts, and MultiQC summarization.
      The workflow processes the dataset SRR13978643 (Saccharomyces cerevisiae) and includes all necessary setup steps for reproducibility:
      <ul>
    <li>Creating the environment with<i><pre><code>conda env create -f setup.yml && conda env create -f samtools.yml</code></pre></i></li>
    <li>Activating the environment using<i><pre><code>conda activate DEseq</code></pre></i></li>
    <li>Downloading required tools and data with<i><pre><code>Rscript download.R</code></pre></i></li>
    <li>Running the full analysis using nextflow<i><pre><code>run main.nf -with-conda</code></pre></i></li>
     </ul>
      This project demonstrates a fully automated, reproducible RNA-seq analysis pipeline, from environment setup to result visualization.
    </p>
  </div>

  <script>
async function viewCode(path, codeId, lang) {
  const codeEl = document.getElementById(codeId);
  const preEl  = codeEl.parentElement;     // the <pre>
  // toggle if already visible
  if (preEl.style.display === 'block') { preEl.style.display = 'none'; return; }

  try {
    const res = await fetch(path, { cache: 'no-cache' });
    if (!res.ok) throw new Error('HTTP ' + res.status);
    const txt = await res.text();
    codeEl.textContent = txt;
    if (lang) codeEl.className = 'language-' + lang;
    preEl.style.display = 'block';
    if (window.hljs) hljs.highlightElement(codeEl);
  } catch (e) {
    codeEl.textContent = 'Failed to load ' + path + ': ' + e.message;
    preEl.style.display = 'block';
  }
}
</script>

<style>
  
  <div class="box">
    <strong>Code</strong>
    <ul>
      <li>
    <strong>download.R</strong>
    <!-- View inline -->
    <a href="#" class="btn" onclick="viewCode('./download.R','code-download','r');return false;">View</a>
    <!-- Download file -->
    <a class="btn" href="./download.R" download>Download</a>
  </li>
  <pre id="pre-download" class="viewer" style="display:none;">
    <code id="code-download" class="language-r">Loadingâ€¦</code>
  </pre>
      <li><a href="https://github.com/fchen-code/Upstream-Nextflow-Analysis/blob/main/download.R">Data (download.R)</a></li>
      <li><a href="./name3">Nextflow script (main.nf)</a></li>
    </ul>
  </div>

<pre style="display:none;"><code id="code-download"></code></pre>

  
  <div class="box">
    <strong>Results</strong>
    <ul>
      <li><a href="./results/fastqc/index.html">FastQC report</a></li>
      <li><a href="./results/trimming/summary.html">Trimming summary</a></li>
      <li><a href="./results/alignment/metrics.html">Alignment metrics</a></li>
      <li><a href="./results/featurecounts/counts.txt">featureCounts (counts.txt)</a></li>
      <li><a href="./multiqc/index.html">MultiQC (combined QC)</a></li>
    </ul>
  </div>

</body>
</html>
