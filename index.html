<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>RNA-seq Upstream Pipeline (Nextflow)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 2rem; line-height: 1.6; max-width: 900px; }
    h1 { margin: 0 0 .75rem; }
    .box { border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; margin: 1rem 0; }
    ul { margin: .5rem 0 0 1.2rem; }
    a { text-decoration: none; }
  </style>
</head>
<body>


  <h1>RNA-seq Upstream Pipeline (Nextflow)</h1>
  <p>Author: Feng Chen, Date: 10/15/2025</p>

  <div class="box">
    <h2>Introduction</h2>
    <p>
      This project implements an upstream RNA-seq workflow using Nextflow DSL2. It automates the entire analysis pipeline, including FastQC, trimming, alignment, featureCounts, and MultiQC summarization.
      The workflow processes the dataset SRR13978643 (Saccharomyces cerevisiae) and includes all necessary setup steps for reproducibility:
      <ul>
    <li>Creating the environment with<i><pre><code><kbd>conda env create -f setup.yml && conda env create -f samtools.yml</kbd></code></pre></i></li>
    <li>Activating the environment using<i><pre><code><kbd></kbd>conda activate DEseq</kbd></code></pre></i></li>
    <li>Downloading required tools and data with<i><pre><code>Rscript download.R</code></pre></i></li>
    <li>Running the full analysis using nextflow<i><pre><code>nexflow run main.nf</code></pre></i></li>
     </ul>
      This project demonstrates a fully automated, reproducible RNA-seq analysis pipeline, from environment setup to result visualization.
    </p>
  </div>
  <div class="box">
    <h2>Code</h2>
    <ul>
      <li><a href="#" onclick="loadCode('./setup.yml','code-download'); return false;">Environment & Tools (setup.yml)</a></li>
      <li><a href="#" onclick="loadCode('./samtools.yml','code-download'); return false;">Samtools Installation (samtools.yml)</a></li>
      <li><a href="#" onclick="loadCode('./download.R','code-download'); return false;">Data Download (download.R)</a></li>
      <li><a href="#" onclick="loadCode('./main.nf','code-download'); return false;">Nextflow Script (main.nf)</a></li>
    </ul>
  </div>
  <pre style="display:none;"><code id="code-download"></code></pre>

<script>
async function loadCode(path, elId) {
  const pre = document.getElementById(elId).parentElement;
  if (pre.style.display === 'block') { pre.style.display = 'none'; return; }
  try {
    const res = await fetch(path, {cache:'no-cache'});
    if (!res.ok) throw new Error(res.status);
    const txt = await res.text();
    const code = document.getElementById(elId);
    code.textContent = txt;
    pre.style.display = 'block';      // show the <pre>
    if (window.hljs) hljs.highlightElement(code); // optional syntax highlight
  } catch (e) {
    document.getElementById(elId).textContent = 'Failed to load ' + path + ': ' + e;
    pre.style.display = 'block';
  }
}
</script>
  <div class="box">
    <h2>Results</h2>
    <ul>
      <li><a href="./result/fastqc/fastqc_report_1.html">FastQC report (Read 1 / R1)</a></li>
      <li><a href="./result/fastqc/fastqc_report_2.html">FastQC report (Read 2 / R2)</a></li>
      <li><a href="./result/trim/fastp.html">Trimming summary</a></li>
      <li><a href="./result/alignment/Log.final.out.txt">Alignment metrics</a></li>
      <li><a href="./result/featurecounts/count.txt">featureCounts (counts.txt)</a></li>
      <li><a href="./result/multiqc/multiqc_report.html">MultiQC (combined QC)</a></li>
    </ul>
  </div>
  
</body>
</html>
